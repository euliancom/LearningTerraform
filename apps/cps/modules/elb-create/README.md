# elb-create

This module incapsulates provides an Elastic Load Balancer resource.

## input variables

| Name | Description | Type | Default | Required |
|------|-------------|:----:|:-----:|:-----:|
|name|The name of the ELB. By default generated by Terraform.|string||Yes|
|internal|If true, ELB will be an internal ELB.|string|false|No|
|subnet_ids|A list of subnet IDs to attach to the ELB.|list||Yes|
|security_groups|A list of security group IDs to assign to the ELB. Only valid if creating an ELB within a VPC.|list||Yes|
|instance_port|The port on the instance to route to|string||Yes|
|instance_protocol|The protocol to use to the instance. Valid values are HTTP, HTTPS, TCP, or SSL|string|http|No|
|healthy_threshold|The number of checks before the instance is declared healthy.|string|2|No|
|unhealthy_threshold|The number of checks before the instance is declared unhealthy.|string|2|No|
|timeout|The length of time before the check times out.|string|3|No|
|interval|The publishing interval in minutes.|string|30|No|
|instance_id|A list of instance ids to place in the ELB pool.|list||Yes|
|cross_zone_load_balancing|Enable cross-zone load balancing.|string|true|No|
|idle_timeout|The time in seconds that the connection is allowed to be idle. |string|400|No|
|connection_draining|Boolean to enable connection draining.|string|true|No|
|connection_draining_timeout|The time in seconds to allow for connections to drain.|string|400|No|
|tag_name|tag:Name|string||No|

## output variables

| Name | Description | Type |
|------|-------------|:----:|
|elb_id|The name of the ELB|string|
|elb_dns_name|The DNS name of the ELB|string|


## Example ##

1. run elb-create module

``` hcl
module "cps_jscape_aws_elb" {
  source = "../elb-create"

  name            = "tf-cps-jscape"
  internal        = true
  subnet_ids      = ["subnet-992ed7c2"]
  security_groups = ["sg-80150ffc", "sg-61a6691b", "sg-9b0b11e7"]
  instance_port   = 11880
  elb_port        = 11880
  instance_id     = ["i-080ab677b2d65d805"]
  tag_name        = "cps-jscape-terraform-elb"
}
```